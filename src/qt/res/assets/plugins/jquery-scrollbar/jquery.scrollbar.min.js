!function(l,r,s){"use strict";var o="px",e={data:{},macosx:-1!==s.navigator.platform.toLowerCase().indexOf("mac"),mobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(s.navigator.userAgent),scroll:null,scrolls:[],webkit:!!s.WebKitPoint,log:function(){}},t={autoScrollSize:!0,autoUpdate:!0,debug:!1,disableBodyScroll:!1,duration:200,ignoreMobile:!0,scrollStep:30,showArrows:!1,stepScrolling:!0,type:"simple",scrollx:null,scrolly:null,onDestroy:null,onInit:null,onScroll:null,onUpdate:null},i=function(r,o){e.scroll||(e.log("Init jQuery Scrollbar v0.2.4"),e.scroll=n(),a(),l(s).resize(function(){var l=!1;if(e.scroll&&(e.scroll.height||e.scroll.width)){var r=n();r.height==e.scroll.height&&r.width==e.scroll.width||(e.scroll=r,l=!0)}a(l)})),this.container=r,this.options=l.extend({},t,s.jQueryScrollbarOptions||{}),this.scrollTo=null,this.scrollx={},this.scrolly={},this.init(o)};i.prototype={destroy:function(){if(this.wrapper){var s=this.container.scrollLeft(),o=this.container.scrollTop();this.container.insertBefore(this.wrapper).css({height:"",margin:""}).removeClass("scroll-content").removeClass("scroll-scrollx_visible").removeClass("scroll-scrolly_visible").off(".scrollbar").scrollLeft(s).scrollTop(o),this.scrollx.scrollbar.removeClass("scroll-scrollx_visible").find("div").andSelf().off(".scrollbar"),this.scrolly.scrollbar.removeClass("scroll-scrolly_visible").find("div").andSelf().off(".scrollbar"),this.wrapper.remove(),l(r).add("body").off(".scrollbar"),l.isFunction(this.options.onDestroy)&&this.options.onDestroy.apply(this,[this.container])}},getScrollbar:function(r){var s=this.options["scroll"+r],o={advanced:'<div class="scroll-element_corner"></div><div class="scroll-arrow scroll-arrow_less"></div><div class="scroll-arrow scroll-arrow_more"></div><div class="scroll-element_outer">    <div class="scroll-element_size"></div>    <div class="scroll-element_inner-wrapper">        <div class="scroll-element_inner scroll-element_track">            <div class="scroll-element_inner-bottom"></div>        </div>    </div>    <div class="scroll-bar">        <div class="scroll-bar_body">            <div class="scroll-bar_body-inner"></div>        </div>        <div class="scroll-bar_bottom"></div>        <div class="scroll-bar_center"></div>    </div></div>',simple:'<div class="scroll-element_outer">    <div class="scroll-element_size"></div>    <div class="scroll-element_track"></div>    <div class="scroll-bar"></div></div>'},e=o[this.options.type]?this.options.type:"advanced";return s=s?"string"==typeof s?l(s).appendTo(this.wrapper):l(s):l("<div>").addClass("scroll-element").html(o[e]).appendTo(this.wrapper),this.options.showArrows&&s.addClass("scroll-element_arrows_visible"),s.addClass("scroll-"+r)},init:function(s){var t=this,i=this.container,c=this.containerWrapper||i,a=l.extend(this.options,s||{}),n={x:this.scrollx,y:this.scrolly},p=this.wrapper,u={scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop()};if(e.mobile&&a.ignoreMobile||e.macosx&&!e.webkit)return!1;if(p)c.css({height:"","margin-bottom":-1*e.scroll.height+o,"margin-right":-1*e.scroll.width+o});else{if(this.wrapper=p=l("<div>").addClass("scroll-wrapper").addClass(i.attr("class")).css("position","absolute"==i.css("position")?"absolute":"relative").insertBefore(i).append(i),i.is("textarea")&&(this.containerWrapper=c=l("<div>").insertBefore(i).append(i),p.addClass("scroll-textarea")),c.addClass("scroll-content").css({height:"","margin-bottom":-1*e.scroll.height+o,"margin-right":-1*e.scroll.width+o}),i.on("scroll.scrollbar",function(r){l.isFunction(a.onScroll)&&a.onScroll.call(t,{maxScroll:n.y.maxScrollOffset,scroll:i.scrollTop(),size:n.y.size,visible:n.y.visible},{maxScroll:n.x.maxScrollOffset,scroll:i.scrollLeft(),size:n.x.size,visible:n.x.visible}),n.x.isVisible&&n.x.scroller.css("left",i.scrollLeft()*n.x.kx+o),n.y.isVisible&&n.y.scroller.css("top",i.scrollTop()*n.y.kx+o)}),p.on("scroll",function(){p.scrollTop(0).scrollLeft(0)}),a.disableBodyScroll){var h=function(l){f(l)?n.y.isVisible&&n.y.mousewheel(l):n.x.isVisible&&n.x.mousewheel(l)};p.on({"MozMousePixelScroll.scrollbar":h,"mousewheel.scrollbar":h}),e.mobile&&p.on("touchstart.scrollbar",function(s){var o=s.originalEvent.touches&&s.originalEvent.touches[0]||s,e=o.pageX,t=o.pageY,c=i.scrollLeft(),a=i.scrollTop();l(r).on({"touchmove.scrollbar":function(l){var r=l.originalEvent.targetTouches&&l.originalEvent.targetTouches[0]||l;i.scrollLeft(c+e-r.pageX),i.scrollTop(a+t-r.pageY),l.preventDefault()},"touchend.scrollbar":function(){l(r).off(".scrollbar")}})})}l.isFunction(a.onInit)&&a.onInit.apply(this,[i])}l.each(n,function(s,o){var e=null,c=1,p="x"==s?"scrollLeft":"scrollTop",u=a.scrollStep,h=function(){var l=i[p]();i[p](l+u),1==c&&l+u>=b&&(l=i[p]()),-1==c&&l+u<=b&&(l=i[p]()),i[p]()==l&&e&&e()},b=0;o.scrollbar||(o.scrollbar=t.getScrollbar(s),o.scroller=o.scrollbar.find(".scroll-bar"),o.mousewheel=function(l){if(!o.isVisible||"x"==s&&f(l))return!0;if("y"==s&&!f(l))return n.x.mousewheel(l),!0;var r=-1*l.originalEvent.wheelDelta||l.originalEvent.detail,e=o.size-o.visible-o.offset;return b<=0&&r<0||b>=e&&r>0||((b+=r)<0&&(b=0),b>e&&(b=e),t.scrollTo=t.scrollTo||{},t.scrollTo[p]=b,setTimeout(function(){t.scrollTo&&(i.stop().animate(t.scrollTo,240,"linear",function(){b=i[p]()}),t.scrollTo=null)},1)),l.preventDefault(),!1},o.scrollbar.on({"MozMousePixelScroll.scrollbar":o.mousewheel,"mousewheel.scrollbar":o.mousewheel,"mouseenter.scrollbar":function(){b=i[p]()}}),o.scrollbar.find(".scroll-arrow, .scroll-element_track").on("mousedown.scrollbar",function(r){if(1!=r.which)return!0;c=1;var n={eventOffset:r["x"==s?"pageX":"pageY"],maxScrollValue:o.size-o.visible-o.offset,scrollbarOffset:o.scroller.offset()["x"==s?"left":"top"],scrollbarSize:o.scroller["x"==s?"outerWidth":"outerHeight"]()},f=0,v=0;return l(this).hasClass("scroll-arrow")?(c=l(this).hasClass("scroll-arrow_more")?1:-1,u=a.scrollStep*c,b=c>0?n.maxScrollValue:0):(c=n.eventOffset>n.scrollbarOffset+n.scrollbarSize?1:n.eventOffset<n.scrollbarOffset?-1:0,u=Math.round(.75*o.visible)*c,b=n.eventOffset-n.scrollbarOffset-(a.stepScrolling?1==c?n.scrollbarSize:0:Math.round(n.scrollbarSize/2)),b=i[p]()+b/o.kx),t.scrollTo=t.scrollTo||{},t.scrollTo[p]=a.stepScrolling?i[p]()+u:b,a.stepScrolling&&(e=function(){b=i[p](),clearInterval(v),clearTimeout(f),f=0,v=0},f=setTimeout(function(){v=setInterval(h,40)},a.duration+100)),setTimeout(function(){t.scrollTo&&(i.animate(t.scrollTo,a.duration),t.scrollTo=null)},1),d(e,r)}),o.scroller.on("mousedown.scrollbar",function(e){if(1!=e.which)return!0;var t=e["x"==s?"pageX":"pageY"],c=i[p]();return o.scrollbar.addClass("scroll-draggable"),l(r).on("mousemove.scrollbar",function(l){var r=parseInt((l["x"==s?"pageX":"pageY"]-t)/o.kx,10);i[p](c+r)}),d(function(){o.scrollbar.removeClass("scroll-draggable"),b=i[p]()},e)}))}),l.each(n,function(l,r){var s="scroll-scroll"+l+"_visible",o="x"==l?n.y:n.x;r.scrollbar.removeClass(s),o.scrollbar.removeClass(s),c.removeClass(s)}),l.each(n,function(r,s){l.extend(s,"x"==r?{offset:parseInt(i.css("left"),10)||0,size:i.prop("scrollWidth"),visible:p.width()}:{offset:parseInt(i.css("top"),10)||0,size:i.prop("scrollHeight"),visible:p.height()})});var b=function(r,s){var t="scroll-scroll"+r+"_visible",a="x"==r?n.y:n.x,d=parseInt(i.css("x"==r?"left":"top"),10)||0,f=s.size,u=s.visible+d;s.isVisible=f-u>1,s.isVisible?(s.scrollbar.addClass(t),a.scrollbar.addClass(t),c.addClass(t)):(s.scrollbar.removeClass(t),a.scrollbar.removeClass(t),c.removeClass(t)),"y"==r&&(s.isVisible||s.size<s.visible)&&c.css("height",u+e.scroll.height+o),n.x.size==i.prop("scrollWidth")&&n.y.size==i.prop("scrollHeight")&&n.x.visible==p.width()&&n.y.visible==p.height()&&n.x.offset==(parseInt(i.css("left"),10)||0)&&n.y.offset==(parseInt(i.css("top"),10)||0)||(l.each(n,function(r,s){l.extend(s,"x"==r?{offset:parseInt(i.css("left"),10)||0,size:i.prop("scrollWidth"),visible:p.width()}:{offset:parseInt(i.css("top"),10)||0,size:i.prop("scrollHeight"),visible:p.height()})}),b("x"==r?"y":"x",a))};l.each(n,b),l.isFunction(a.onUpdate)&&a.onUpdate.apply(this,[i]),l.each(n,function(l,r){var s="x"==l?"left":"top",e="x"==l?"outerWidth":"outerHeight",t="x"==l?"width":"height",c=parseInt(i.css(s),10)||0,n=r.size,d=r.visible+c,f=r.scrollbar.find(".scroll-element_size");f=f[e]()+(parseInt(f.css(s),10)||0),a.autoScrollSize&&(r.scrollbarSize=parseInt(f*d/n,10),r.scroller.css(t,r.scrollbarSize+o)),r.scrollbarSize=r.scroller[e](),r.kx=(f-r.scrollbarSize)/(n-d)||1,r.maxScrollOffset=n-d}),i.scrollLeft(u.scrollLeft).scrollTop(u.scrollTop).trigger("scroll")}},l.fn.scrollbar=function(r,s){var o=this;return"get"===r&&(o=null),this.each(function(){var t=l(this);if(t.hasClass("scroll-wrapper")||"body"==t.get(0).nodeName)return!0;var c=t.data("scrollbar");if(c){if("get"===r)return o=c,!1;if(c["string"==typeof r&&c[r]?r:"init"].apply(c,l.isArray(s)?s:[]),"destroy"===r)for(t.removeData("scrollbar");l.inArray(c,e.scrolls)>=0;)e.scrolls.splice(l.inArray(c,e.scrolls),1)}else"string"!=typeof r&&(c=new i(t,r),t.data("scrollbar",c),e.scrolls.push(c));return!0}),o},l.fn.scrollbar.options=t,s.angular&&s.angular.module("jQueryScrollbar",[]).directive("jqueryScrollbar",function(){return{link:function(l,r){r.scrollbar(l.options).on("$destroy",function(){r.scrollbar("destroy")})},restring:"AC",scope:{options:"=jqueryScrollbar"}}});var c=0,a=function(l){var r,s,o,t,i,n,d;for(r=0;r<e.scrolls.length;r++)s=(t=e.scrolls[r]).container,o=t.options,i=t.wrapper,n=t.scrollx,d=t.scrolly,(l||o.autoUpdate&&i&&i.is(":visible")&&(s.prop("scrollWidth")!=n.size||s.prop("scrollHeight")!=d.size||i.width()!=n.visible||i.height()!=d.visible))&&t.init();clearTimeout(c),c=setTimeout(a,300)};function n(){if(e.webkit)return{height:0,width:0};if(!e.data.outer){var r={border:"none","box-sizing":"content-box",height:"200px",margin:"0",padding:"0",width:"200px"};e.data.inner=l("<div>").css(l.extend({},r)),e.data.outer=l("<div>").css(l.extend({left:"-1000px",overflow:"scroll",position:"absolute",top:"-1000px"},r)).append(e.data.inner).appendTo("body")}return e.data.outer.scrollLeft(1e3).scrollTop(1e3),{height:Math.ceil(e.data.outer.offset().top-e.data.inner.offset().top||0),width:Math.ceil(e.data.outer.offset().left-e.data.inner.offset().left||0)}}function d(s,o){return l(r).on({"blur.scrollbar":function(){l(r).add("body").off(".scrollbar"),s&&s()},"dragstart.scrollbar":function(l){return l.preventDefault(),!1},"mouseup.scrollbar":function(){l(r).add("body").off(".scrollbar"),s&&s()}}),l("body").on({"selectstart.scrollbar":function(l){return l.preventDefault(),!1}}),o&&o.preventDefault(),!1}function f(l){var r=l.originalEvent;return(!r.axis||r.axis!==r.HORIZONTAL_AXIS)&&!r.wheelDeltaX}}(jQuery,document,window);
